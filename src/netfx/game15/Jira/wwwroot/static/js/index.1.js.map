{"version":3,"file":"index.1.js","mappings":"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","sources":["webpack:///./src/ui/WorkLog.module.scss","webpack:///./src/ui/WorkLog.module.scss?c24d","webpack:///./src/ui/WorkLog.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.epUE {\n  font-weight: bold;\n  color: red;\n}\n.oqCf {\n  font-weight: bold;\n  color: forestgreen;\n}\n.gZG0 {\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  color: #fff;\n  background-color: orange;\n}\n.xoH2 {\n  padding: 5px 10px;\n  border-radius: 5px;\n  font-weight: bold;\n  color: #fff;\n  background-color: darkgray;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ui/WorkLog.module.scss\"],\"names\":[],\"mappings\":\"AAEQ;EACI,iBAAA;EACA,UAAA;AADZ;AAIQ;EACI,iBAAA;EACA,kBAAA;AAFZ;AAKQ;EACI,iBAAA;EACA,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,wBAAA;AAHZ;AAMQ;EACI,iBAAA;EACA,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,0BAAA;AAJZ\",\"sourcesContent\":[\".WorkLog {\\r\\n    &-status {\\r\\n        &-notyet {\\r\\n            font-weight: bold;\\r\\n            color: red;\\r\\n        }\\r\\n\\r\\n        &-full {\\r\\n            font-weight: bold;\\r\\n            color: forestgreen;\\r\\n        }\\r\\n\\r\\n        &-notenough {\\r\\n            padding: 5px 10px;\\r\\n            border-radius: 5px;\\r\\n            font-weight: bold;\\r\\n            color: #fff;\\r\\n            background-color: orange;\\r\\n        }\\r\\n\\r\\n        &-error {\\r\\n            padding: 5px 10px;\\r\\n            border-radius: 5px;\\r\\n            font-weight: bold;\\r\\n            color: #fff;\\r\\n            background-color: darkgray;\\r\\n        }\\r\\n    }\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"WorkLog-status-notyet\": `epUE`,\n\t\"WorkLog-status-full\": `oqCf`,\n\t\"WorkLog-status-notenough\": `gZG0`,\n\t\"WorkLog-status-error\": `xoH2`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js!./WorkLog.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js!./WorkLog.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { useEffect, useState } from 'react';\r\nimport { componentWithApiProps } from '../components/componentDefine';\r\nimport { guid8 } from '../extensions/HashFuncs';\r\nimport { getAsync } from '../extensions/HttpExtension';\r\nimport { sleep } from '../extensions/ThreadExtension';\r\nimport thisCss from './WorkLog.module.scss';\r\nfunction WorkLog(props?: componentWithApiProps & {\r\n    headers?: any,\r\n    issueKey?: string,\r\n    storyPoints?: number,\r\n    delayMiliseconds?: number\r\n}) {\r\n    const thisId = props.id ?? guid8();\r\n    const [logs, setLogs] = useState<any[]>(undefined);\r\n    const [loadded, setLoadded] = useState<boolean>(false);\r\n\r\n    const delayMiliseconds = props.delayMiliseconds ?? 0;\r\n    const now = new Date();\r\n    const timezoneOffset = now.getTimezoneOffset();\r\n\r\n    useEffect(() => {\r\n        load();\r\n    }, []);\r\n\r\n    async function load() {\r\n        await sleep(delayMiliseconds);\r\n        const url = `${props.apiUrl}/api/jira/getissueworklogs?issueKey=${props.issueKey}&timezoneOffset=${timezoneOffset}`;\r\n        await getAsync(url, props.headers, async response => {\r\n            if (response.status == 200) {\r\n                const rObjs = await response.json();\r\n                if (rObjs?.length > 0) {\r\n                    setLogs(rObjs);\r\n                }\r\n                else {\r\n                    setLogs(undefined);\r\n                }\r\n                setLoadded(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    let className = thisCss[\"WorkLog\"];\r\n    if (props?.className) {\r\n        className += ` ${props.className}`;\r\n    }\r\n    try {\r\n        let logsElement: JSX.Element = loadded ? (<span>Not yet</span>) : (<span>Loading...</span>);\r\n        if (logs?.length > 0) {\r\n            let totalSeconds = 0;\r\n            logs.forEach(log => {\r\n                totalSeconds += log.TimeSpentSeconds;\r\n            });\r\n            const logHours = Math.round(totalSeconds / 3600);\r\n            const estimateHours = props.storyPoints * 2;\r\n\r\n            let worklogDetailsTitle = Array.from(logs).map(log => `${log.TimeSpentValue} (${log.StartedTimeValue})`).join('\\n');\r\n\r\n            logsElement = (<span title={worklogDetailsTitle} className={thisCss[`WorkLog-status-${logHours == estimateHours ? 'full' : logHours < estimateHours ? 'notenough' : logHours > estimateHours ? 'error' : 'notyet'}`]} key={`${props.issueKey}-worklogs`}>{logHours}h / {estimateHours}h</span>);\r\n        }\r\n        else {\r\n            logsElement = (<span className={thisCss[`WorkLog-status-notyet`]} key={`${props.issueKey}-worklogs`}>Not yet</span>);\r\n        }\r\n        let contents = (<div id={thisId} className={className}>\r\n            {logsElement}\r\n        </div>);\r\n        return contents;\r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\nexport default WorkLog;"],"names":[],"sourceRoot":""}